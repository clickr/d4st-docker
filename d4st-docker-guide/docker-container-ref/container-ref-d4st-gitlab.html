<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>D4ST GitLab Docker Container</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="schema.DC" href="http://purl.org/dc/terms/"><meta name="DC.Type" content="reference"><meta name="description" content="The d4st/gitlab container provides a fully-featured instance of the GitLab git server and GitLab continous Integration (CI) server."><meta name="DC.Relation" scheme="URI" content="chapter-docker-container-ref.html"><meta name="DC.Creator" content="W. Eliot Kimber"><meta name="DC.Date.Created" content="2016-01"><meta name="DC.Date.Modified" content="2016-02-20"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="container-ref-gitlab"><script type="text/javascript">var d4p = {"relativePath":"..\/..\/","dev":false,"debug":false,"draft":false,"nextTopicHref":"glossary\/glossary.html","previousTopicHref":"d4st-docker-guide\/docker-container-ref\/container-ref-link-manager-basex.html","ext":".html","root":false,"topic":{"chunked":""},"map":{"title":"  DITA for Small Teams  D4ST Docker Usage Guide  ","chunked":false},"search":{"minlength":2},"l":{"searchPageHeading":"Search Results","close":"Close"}}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="../../themes/dita-d4p-classic/css/style.css"><link rel="stylesheet" type="text/css" media="screen, projection, print" href="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,
          
          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,
          
          // Optional callback... myCallback(i, width)
          callback: doc_resize,
          
          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  = mobile.css',
             // medium (size-1, size-2)
            '760px  to 980px  = 720.css',
            '980px  to 1270px = 960.css',
             // large (size-3, size-5)
            '1270px to 1600px = 1200.css',
            '1600px to 1940px = 1560.css',
             // extra large (size-6)
            '1940px to 2540px = 1920.css',
            '2540px           = 2520.css'
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="../../themes/dita-d4p-classic/js/script.js"></script></head><body class=" dita-d4p-classic centered navigation-default"><div id="d4h5-main-container" class="container_12" role="application"><header role="banner" aria-labelledby="publication-title" class="hide-for-small"><div class="grid_8"><h1 id="publication-title">  DITA for Small Teams  D4ST Docker Usage Guide  </h1></div><section class="grid_4 search-box"><form id="search" role="search"><div class="form-group"><input id="search-text" type="text" autocomplete="off" class="form-control" placeholder="Search"></div></form></section><section class="clearfix"></section></header><div id="d4h5-section-container" class="grid_12"><nav id="local-navigation" class="grid_4 alpha omega" role="navigation" aria-label="Main navigation"><div id="nav-content"><ul><li><a href="../../index.html">Table of Contents</a></li><li><a href="../frontmatter/about-d4st-docker-guide.html">About This Publication</a></li><li class="collapsible collapsed"><a href="../getting-started/getting-started.html"><span class="enumeration enumeration0">Chapter&nbsp;1. </span>Getting Started</a><ul><li><a href="../getting-started/d4st-container-quick-start-01.html">D4ST Container Quick Start</a></li><li><a href="../getting-started/setup-command-completion.html">Setting Up Command Completion for the d4st Command</a></li></ul></li><li class="collapsible collapsed"><a href="../extending/extending_the_d4st_docker_system.html"><span class="enumeration enumeration0">Chapter&nbsp;2. </span>Extending the D4ST Docker System</a><ul><li><a href="../extending/building_the_d4st_containers.html">Building the D4ST Containers</a></li></ul></li><li class="collapsible collapsed"><a href="../development/development-guide.html"><span class="enumeration enumeration0">Chapter&nbsp;3. </span>D4ST Development Guide</a><ul><li><a href="../development/source_project_organization.html">Source Project Organization</a></li><li><a href="../development/local_docker_setup.html">Local Docker Development Setup</a></li><li><a href="../development/building_updated_containers.html">Building, Testing, and Releasing Updated Containers</a></li></ul></li><li class="collapsible collapsed"><a href="../system-description/chapter-d4st-container-system-description.html"><span class="enumeration enumeration0">Chapter&nbsp;4. </span>D4ST Container System Description</a><ul><li><a href="../system-description/d4st-system-overview.html">D4ST System Overview</a></li><li><a href="../system-description/d4st-system-configuration.html">D4ST System Configuration</a></li></ul></li><li class="collapsible active"><a href="chapter-docker-container-ref.html"><span class="enumeration enumeration0">Chapter&nbsp;5. </span>Docker Container Reference</a><ul><li><a href="container-ref-d4st-dita-ot.html">d4st/dita-ot</a></li><li><a href="container-ref-link-manager-basex.html">D4ST Link Manager BaseX Docker Container</a></li><li class=" active"><a href="container-ref-d4st-gitlab.html" class=" selected">d4st/gitlab</a></li></ul></li><li class="collapsible collapsed"><a href="../../glossary/glossary.html">Glossary</a><ul><li class="collapsible collapsed"><a href="../../glossary/glossgroup-y.html">Y</a><ul><li><a href="../../glossary/gloss-yaml.html">YAML</a></li></ul></li></ul></li><li><a href="../../generated-index.html">Index</a></li></ul></div></nav><div id="d4h5-main-content" class="grid_8 alpha omega"><article><nav id="content-toolbar" class="toolbar hide-for-small"></nav><section id="page"><div class="topic reference"><a id="container-ref-gitlab" class="anchor"></a> <h1 class="title topictitle1">D4ST GitLab Docker Container</h1> <div class="body refbody"><p class="shortdesc">The d4st/gitlab container provides a fully-featured instance of the GitLab git server and GitLab continous Integration (CI) server.</p> <div class="section" id="container-ref-gitlab-d4701e26"> <p class="p">The GitLab container provides two essential components of a D4ST system: a remote versioning repository (git in this case) and a continuous integration (CI) server.</p> </div> <div class="section" id="container-ref-gitlab-d4701e32"><h2 class="sectiontitle">Container Details</h2> <dl class="dl"> <dt class="dt dlterm">URL</dt> <dd class="dd"><a data-keyref="docker-hub-gitlab" class="xref" href="https://hub.docker.com/r/d4st/gitlab-d4st/">https://hub.docker.com/r/d4st/gitlab-d4st/</a></dd> <dt class="dt dlterm">container name</dt> <dd class="dd">d4st/gitlab-d4st</dd> </dl> </div> <div class="section" id="container-ref-gitlab-d4701e58"><h2 class="sectiontitle">Usage</h2> <div class="p">A typical run specification is:<pre class="pre codeblock">docker run  -d \
    --name gitlab-d4st \
    --hostname $(docker-machine ip default) \
    --publish 443:443 --publish 80:80 --publish 8022:22 \
    --volume /srv/gitlab/config:/etc/gitlab \
    --volume /srv/gitlab/logs:/var/log/gitlab \
    --volume /srv/gitlab/data:/var/opt/gitlab \
        d4st/gitlab</pre></div> <p class="p">This runs the server in the background (<span class="keyword parmname">-d</span>), names the running container "gitlab", tells it that it's host name is the IP address associated with the docker machine, binds the server ports to host ports (note that the SSH port is bound to host port "8022" to handle the case where something else on the host may already listen on port 22).</p> <p class="p">The <span class="keyword parmname">--volume</span> parameters are mapping volumes inside the docker-machine VM to volumes in the container. These volumes persist across invocations of the container but go away if the docker machine is killed or restarted.</p> <aside class="note note note"><span class="title">Note:</span> TBD: Figure what you have to do with VirtualBox to make the disk images persistent on the host computer.</aside> </div> <div class="section" id="container-ref-gitlab-d4701e81"><h2 class="sectiontitle">Configuration Details</h2> <p class="p">The default D4ST setup uses the configuration as specified in the Sameersbn GitLab Docker container documentation.</p> </div> </div> <div class="related-links"></div> <footer id="topicsNPLinks"><div id="footer_previous"><a href="../../d4st-docker-guide/docker-container-ref/container-ref-link-manager-basex.html" class="previous" rel="internal">D4ST Link Manager BaseX Docker Container</a></div><div id="footer_next"><a href="../../glossary/glossary.html" class="next" rel="internal">Glossary</a></div></footer></div></section></article><div class="clear"></div></div><div class="clearfix"></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"></div></div></body></html>