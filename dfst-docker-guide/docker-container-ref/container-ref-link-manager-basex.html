<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>DFST Link Manager BaseX Docker Container</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="schema.DC" href="http://purl.org/dc/terms/"><meta name="DC.Type" content="reference"><meta name="description" content="The dfst/link-manager-basex container provides a BaseX HTTP server configured with the DITA for Small Teams Link Manager application."><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="container-ref-link-manager-basex"><script type="text/javascript">var d4p = {"relativePath":"..\/..\/","dev":false,"debug":false,"draft":false,"nextTopicHref":"dfst-docker-guide\/docker-container-ref\/container-ref-dfst-gitlab.html","previousTopicHref":"dfst-docker-guide\/docker-container-ref\/container-ref-dfst-dita-ot.html","ext":".html","root":false,"topic":{"chunked":""},"map":{"title":"\n      DITA for Small Teams\n        DFST Docker Usage Guide\n    ","chunked":false},"search":{"minlength":2},"l":{"searchPageHeading":"Search Results","close":"Close"}}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="../../themes/dita-d4p-classic/css/style.css"><link rel="stylesheet" type="text/css" media="screen, projection, print" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,
          
          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,
          
          // Optional callback... myCallback(i, width)
          callback: doc_resize,
          
          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  = mobile.css',
             // medium (size-1, size-2)
            '760px  to 980px  = 720.css',
            '980px  to 1270px = 960.css',
             // large (size-3, size-5)
            '1270px to 1600px = 1200.css',
            '1600px to 1940px = 1560.css',
             // extra large (size-6)
            '1940px to 2540px = 1920.css',
            '2540px           = 2520.css'
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="../../themes/dita-d4p-classic/js/script.js"></script></head><body class="en-us dita-d4p-classic centered navigation-default"><div id="d4h5-main-container" class="container_12" role="application"><header role="banner" aria-labelledby="publication-title" class="hide-for-small"><div class="grid_8"><h1 id="publication-title">
      DITA for Small Teams
        DFST Docker Usage Guide
    </h1></div><section class="grid_4 search-box"><form id="search" role="search"><div class="form-group"><input id="search-text" type="text" autocomplete="off" class="form-control" placeholder="Search"></div></form></section><secion class="clearfix"></secion></header><div id="d4h5-section-container" class="grid_12"><nav id="local-navigation" class="grid_4 alpha omega" role="navigation" aria-label="Main navigation"><div id="nav-content"><ul><li><a href="../../index.html">Table of Contents</a></li><li><a href="../frontmatter/about-dfst-docker-guide.html">About This Publication</a></li><li class="collapsible collapsed"><a href="../getting-started/getting-started.html"><span class="enumeration enumeration0">Chapter 1. </span>Getting Started</a><ul><li><a href="../getting-started/dfst-container-quick-start-01.html">DFST Container Quick Start</a></li><li><a href="../getting-started/docker-orientation.html">Getting Started With Docker</a></li><li><a href="../getting-started/virtual-box.html">VirtualBox Notes and Details</a></li></ul></li><li class="collapsible collapsed"><a href="../extending/extending_the_dfst_docker_system.html"><span class="enumeration enumeration0">Chapter 2. </span>Extending the DFST Docker System</a><ul><li><a href="../extending/building_the_dfst_containers.html">Building the DFST Containers</a></li><li><a href="../extending/configuring_your_own_containers.html">Configuring Your Own Containers</a></li></ul></li><li class="collapsible collapsed"><a href="../system-description/chapter-dfst-container-system-description.html"><span class="enumeration enumeration0">Chapter 3. </span>DFST Container System Description</a><ul><li><a href="../system-description/dfst-system-overview.html">DFST System Overview</a></li><li><a href="../system-description/dfst-system-configuration.html">DFST System Configuration</a></li></ul></li><li class="collapsible active"><a href="chapter-docker-container-ref.html"><span class="enumeration enumeration0">Chapter 4. </span>Docker Container Reference</a><ul><li><a href="container-ref-dfst-dita-ot.html">dfst/dita-ot</a></li><li class=" active"><a href="container-ref-link-manager-basex.html" class=" selected">DFST Link Manager BaseX Docker Container</a></li><li><a href="container-ref-dfst-gitlab.html">dfst/gitlab</a></li></ul></li><li class="collapsible collapsed"><a href="../../glossary/glossary.html">Glossary</a><ul><li class="collapsible collapsed"><a href="../../glossary/glossgroup-y.html">Y</a><ul><li><a href="../../glossary/gloss-yaml.html">YAML</a></li></ul></li></ul></li></ul></div></nav><div id="d4h5-main-content" class="grid_8 alpha omega"><article><nav id="content-toolbar" class="toolbar hide-for-small"></nav><section id="page"><div><a id="container-ref-link-manager-basex" class="anchor"></a> <h1 class="title topictitle1">DFST Link Manager BaseX Docker Container</h1> <div class="body refbody"><p class="shortdesc">The dfst/link-manager-basex container provides a BaseX HTTP server configured with the DITA for Small Teams Link Manager application.</p> <div class="section" id="container-ref-link-manager-basex-d3698e11"> <p class="p">The container runs the BaseX HTTP server with the Link Manager Web application deployed. It depends on the DITA Open Toolkit, provided by a separate container running on the same Docker machine, to provide the XML entity resolution catalogs needed to parse DITA documents added to the database, either manually or through the DFST git hooks.</p> <p class="p">See <a data-keyref="container-ref-dfst-dita-ot" class="xref" href="container-ref-dfst-dita-ot.html">container-ref-dfst-dita-ot.html</a>.</p> </div> <div class="section" id="container-ref-link-manager-basex-d3698e22"><h2 class="sectiontitle">Container Details</h2> <dl class="dl"> <dt class="dt dlterm">URL</dt> <dd class="dd"><a class="xref external" href="https://hub.docker.com/r/dfst/link-manager-basex/">https://hub.docker.com/r/dfst/link-manager-basex/</a></dd> <dt class="dt dlterm">container name</dt> <dd class="dd">dfst/link-manager-basex</dd> </dl> </div> <div class="section" id="container-ref-link-manager-basex-d3698e47"><h2 class="sectiontitle">Usage</h2> <p class="p">To run the container in isolation you must first run the dfst/dita-ot container so that the Link Manager has access to the DITA Open Toolkit's catalogs. You should also mount a local directory as the <span class="ph filepath">/data</span> volume so that data will be saved locally (otherwise your databases will be lost when the container is removed).</p> <div class="p">A typical run command is:<pre class="pre codeblock">run --rm -it -p 8984:8984 \
    --volumes-from dita-ot \
    --name=linkmgr \
    -v /Users/ekimber/temp/data:/data  \
    dfst/link-manager-basex</pre></div> <div class="p">The parameters are:<dl class="dl parml"> <dt class="dt pt dlterm">--rm</dt> <dd class="dd pd">Automatically removes the container when it stops. This is useful for development and testing to avoid having to manually remove the container every time you rebuild it. Omit this parameter if you want the container to be more persistent.</dd> <dt class="dt pt dlterm">-it</dt> <dd class="dd pd">Runs the container in interactive mode and with a terminal. Lets you see the messages the server puts up. Replace this with <span class="keyword parmname">-d</span> if you want to run the server in the background.</dd> <dt class="dt pt dlterm">-p 8984:8984</dt> <dd class="dd pd">This maps local (to your machine) port 8984 to container port 8984. The first port number is what you specify to connect to the Web application. If you are running on Windows or OS X then you need the IP address of your docker machine (<samp class="ph codeph">docker-machine ip default</samp>). If you are running on Linux then you can use localhost and the port. You can use any available port for the first port value if 8984 doesn't work for some reason. If you make the port 80 then you don't have to specify the port when connecting to the server.</dd> <dt class="dt pt dlterm">--volumes-from dita-ot</dt> <dd class="dd pd">This makes the shared volumes from the dita-ot container available to this container. The value "dita-ot" is the name specified on the <span class="keyword parmname">--name</span> parameter when you started the dfst/dita-ot container.</dd> <dt class="dt pt dlterm">--name=linkmgr</dt> <dd class="dd pd">The name for the container. You can specify anything. Having set the name you can use it anywhere a container ID is expected, e.g. <samp class="ph codeph">docker exec -it linkmgr /bin/bash</samp>.</dd> <dt class="dt pt dlterm">-v ...</dt> <dd class="dd pd">Connects a local directory (<span class="ph filepath">/Users/ekimber/temp/data</span>) to the <span class="ph filepath">/data</span> volume in the container. Under OS X and Windows the local directory must be within a user's home directory. Under Linux it can be any directory. <aside class="note note "><span class="title">Note:</span> There are potential permissions issues with using local directories under OS X and Windows due to the use of an intermediary virtual machine to run the docker machine. Instructions and workarounds TBD.</aside><div class="cautiontitle">CAUTION:</div><div class="note caution"> <p class="p">If you don't specify a local directory then the databases will be created within the container and will go away when the container is removed.</p> </div></dd> <dt class="dt pt dlterm">dfst/link-manager-basex</dt> <dd class="dd pd">This is the name of the container to run. If the container is not already on your system Docker will pull it down from the Docker hub, using the default tag "latest", which is normally what you want. If you want a specific tag you can specify it as <samp class="ph codeph">:<var class="keyword varname">tagname</var></samp> after the container name.<p class="p">If you need to update your local copy you can use <samp class="ph codeph">docker pull dfst/link-manager-basex</samp> to get the latest version.</p></dd> </dl> </div> </div> <div class="section" id="container-ref-link-manager-basex-d3698e166"><h2 class="sectiontitle">Configuration Details</h2> <div class="p">The Link Manager configuration modifies the base BaseXHTTP configuration to add the following settings:<pre class="pre codeblock">CATFILE = /opt/dita-ot/DITA-OT/catalog-dita.xml
DTD = true
SKIPCORRUPT = true
CHOP = false</pre></div> <p class="p">The <span class="keyword parmname">CATFILE</span> value refers to the volume used from the dfst/dita-ot container via the <span class="keyword parmname">--volumes-from</span> parameter explained above.</p> </div> </div> <footer id="topicsNPLinks"><div id="footer_previous"><a href="../../dfst-docker-guide/docker-container-ref/container-ref-dfst-dita-ot.html" class="previous" rel="internal">dfst/dita-ot</a></div><div id="footer_next"><a href="../../dfst-docker-guide/docker-container-ref/container-ref-dfst-gitlab.html" class="next" rel="internal">dfst/gitlab</a></div></footer></div></section></article><div class="clear"></div></div><div class="clearfix"></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"></div></div></body></html>