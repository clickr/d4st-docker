<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Building the D4ST Containers</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="schema.DC" href="http://purl.org/dc/terms/"><meta name="DC.Type" content="concept"><meta name="description" content="The base D4ST containers are built automatically by the Docker hub site but you can build containers directly using the docker build command."><meta name="DC.Creator" content="W. Eliot Kimber"><meta name="DC.Date.Created" content="2016-01"><meta name="DC.Date.Modified" content="2016-02-20"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="building_the_dfst_containers"><script type="text/javascript">var d4p = {"relativePath":"..\/..\/","dev":false,"debug":false,"draft":false,"nextTopicHref":"dfst-docker-guide\/system-description\/chapter-dfst-container-system-description.html","previousTopicHref":"dfst-docker-guide\/extending\/extending_the_dfst_docker_system.html","ext":".html","root":false,"topic":{"chunked":""},"map":{"title":"\n      DITA for Small Teams\n        D4ST Docker Usage Guide\n    ","chunked":false},"search":{"minlength":2},"l":{"searchPageHeading":"Search Results","close":"Close"}}</script><link rel="stylesheet" type="text/css" media="screen, projection" href="../../themes/dita-d4p-classic/css/style.css"><link rel="stylesheet" type="text/css" media="screen, projection, print" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><script type="text/javascript">
      
        d4p.cssGridPath = d4p.dev ? 'html5-themes/modules/960-Responsive-Grid/css/' : 'themes/dita-d4p-classic/css/';
        var ADAPT_CONFIG = {
          // Where is your CSS?
          path: d4p.relativePath + d4p.cssGridPath,
          
          // false = Only run once, when page first loads.
          // true = Change on window resize and page tilt.
          dynamic: true,
          
          // Optional callback... myCallback(i, width)
          callback: doc_resize,
          
          // First range entry is the minimum.
          // Last range entry is the maximum.
          // Separate ranges by "to" keyword.
          range: [
             // small (size-0)
            '0px    to 760px  = mobile.css',
             // medium (size-1, size-2)
            '760px  to 980px  = 720.css',
            '980px  to 1270px = 960.css',
             // large (size-3, size-5)
            '1270px to 1600px = 1200.css',
            '1600px to 1940px = 1560.css',
             // extra large (size-6)
            '1940px to 2540px = 1920.css',
            '2540px           = 2520.css'
          ]
        };

        function doc_resize(i, width)
        {
          d4p.setBodyClassfunction(i, width);
        }


        
      </script><script type="text/javascript" src="../../themes/dita-d4p-classic/js/script.js"></script></head><body class="en-us dita-d4p-classic centered navigation-default"><div id="d4h5-main-container" class="container_12" role="application"><header role="banner" aria-labelledby="publication-title" class="hide-for-small"><div class="grid_8"><h1 id="publication-title">
      DITA for Small Teams
        D4ST Docker Usage Guide
    </h1></div><section class="grid_4 search-box"><form id="search" role="search"><div class="form-group"><input id="search-text" type="text" autocomplete="off" class="form-control" placeholder="Search"></div></form></section><secion class="clearfix"></secion></header><div id="d4h5-section-container" class="grid_12"><nav id="local-navigation" class="grid_4 alpha omega" role="navigation" aria-label="Main navigation"><div id="nav-content"><ul><li><a href="../../index.html">Table of Contents</a></li><li><a href="../frontmatter/about-dfst-docker-guide.html">About This Publication</a></li><li class="collapsible collapsed"><a href="../getting-started/getting-started.html"><span class="enumeration enumeration0">Chapter 1. </span>Getting Started</a><ul><li><a href="../getting-started/dfst-container-quick-start-01.html">D4ST Container Quick Start</a></li></ul></li><li class="collapsible active"><a href="extending_the_dfst_docker_system.html"><span class="enumeration enumeration0">Chapter 2. </span>Extending the D4ST Docker System</a><ul><li class=" active"><a href="building_the_dfst_containers.html" class=" selected">Building the D4ST Containers</a></li></ul></li><li class="collapsible collapsed"><a href="../system-description/chapter-dfst-container-system-description.html"><span class="enumeration enumeration0">Chapter 3. </span>D4ST Container System Description</a><ul><li><a href="../system-description/dfst-system-overview.html">D4ST System Overview</a></li><li><a href="../system-description/dfst-system-configuration.html">D4ST System Configuration</a></li></ul></li><li class="collapsible collapsed"><a href="../docker-container-ref/chapter-docker-container-ref.html"><span class="enumeration enumeration0">Chapter 4. </span>Docker Container Reference</a><ul><li><a href="../docker-container-ref/container-ref-dfst-dita-ot.html">dfst/dita-ot</a></li><li><a href="../docker-container-ref/container-ref-link-manager-basex.html">D4ST Link Manager BaseX Docker Container</a></li><li><a href="../docker-container-ref/container-ref-dfst-gitlab.html">dfst/gitlab</a></li></ul></li><li class="collapsible collapsed"><a href="../../glossary/glossary.html">Glossary</a><ul><li class="collapsible collapsed"><a href="../../glossary/glossgroup-y.html">Y</a><ul><li><a href="../../glossary/gloss-yaml.html">YAML</a></li></ul></li></ul></li></ul></div></nav><div id="d4h5-main-content" class="grid_8 alpha omega"><article><nav id="content-toolbar" class="toolbar hide-for-small"></nav><section id="page"><div><a id="building_the_dfst_containers" class="anchor"></a> <h1 class="title topictitle1">Building the D4ST Containers</h1> <div class="body conbody"><p class="shortdesc">The base D4ST containers are built automatically by the Docker hub site but you can build containers directly using the <span class="keyword cmdname">docker build</span> command.</p> <p class="p">To build a container locally use the <span class="keyword cmdname">docker build</span> command and specify the appropriate container tag (the name by which you refer to the container in your Docker compose file).</p> <div class="p">For example, to rebuild the GitLab container you would navigate to the <span class="ph filepath">containers/gitlab-dfst</span> directory and then run the <span class="keyword cmdname">docker build</span> command like so:<pre class="pre codeblock">$ cd containers/gitlib-dist
$ docker build -t dfst/gitlab-dfst .
Sending build context to Docker daemon 14.85 kB
Step 1/6 : FROM sameersbn/gitlab
 ---&gt; 647c3323c92f
Step 2/6 : MAINTAINER Eliot Kimber "ekimber@contrext.com"
 ---&gt; Running in bb6abe4faa62
 ---&gt; 8e9a1404cd76
Removing intermediate container bb6abe4faa62
Step 3/6 : COPY admin-scripts /var/opt/dfst/bin/
 ---&gt; 3cd1cd7884af
Removing intermediate container cc00ac24db81
... (lots more messages) ...
Step 6/6 : CMD /assets/wrapper
 ---&gt; Running in fd5bf4369cb5
 ---&gt; 0a894abebeb6
Removing intermediate container fd5bf4369cb5
Successfully built 0a894abebeb6
$ </pre></div> <p class="p">If you are making your own container configurations and can make them publicly available, the easiest thing to do is to use the Docker hub with automatic builds to automatically build the images for you. This makes the images available to anyone. To do this, you put your Dockerfile in a GitHub or BitBucket public repository and then create a Docker Hub automated build that links to the Dockerfile in that repository. Whenever you push a new version to the git repository Docker Hub will automatically build a new image. You can also configure the automated build to use git branch names as image tags. You can look at the configurations for the D4ST containers as an example of how to set up automated builds.</p> <p class="p">If you can't make your images public and your enterprise does not provide it's own internal Docker hub or equivalent, you can set up Docker compose files to build images. See the Docker compose documentation for details.</p> </div> <footer id="topicsNPLinks"><div id="footer_previous"><a href="../../dfst-docker-guide/extending/extending_the_dfst_docker_system.html" class="previous" rel="internal">Extending the D4ST Docker System</a></div><div id="footer_next"><a href="../../dfst-docker-guide/system-description/chapter-dfst-container-system-description.html" class="next" rel="internal">D4ST Container System Description</a></div></footer></div></section></article><div class="clear"></div></div><div class="clearfix"></div></div><div class="clearfix"></div><div id="footer-container" class="grid_12"></div></div></body></html>